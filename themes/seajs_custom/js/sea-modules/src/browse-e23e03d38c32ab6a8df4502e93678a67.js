define("src/browse",["jquery/jquery/1.10.1/jquery","./mod/selectWidget","./mod/inputVal","./mod/formCheck"],function(e){var t=e("jquery/jquery/1.10.1/jquery");e("./mod/selectWidget"),t(".sele").each(function(){t(this).selectWidget()});var i=e("./mod/inputVal"),n=new i('input[name="sbkey"]',"请输入关键字");n.init();var r=e("./mod/formCheck");t("#filterForm").submit(function(){return r.checkFilterForm()?void 0:!1}),t("#keyForm").submit(function(){return r.checkKeyForm()?void 0:!1})}),define("src/mod/selectWidget",["jquery/jquery/1.10.1/jquery"],function(e){var t=e("jquery/jquery/1.10.1/jquery");t.fn.selectWidget=function(){var e=t(this),i=t(this).children("span"),n=t(this).children('input[type="hidden"]'),r=t(this).children("ul");r.children("li").length>10&&r.height(250),i.mousedown(function(){a()}),r.find("li").click(function(){0==t(this).children("a").length&&(i.html(t(this).html()),n.val(t(this).index())),r.hide(),e.css("z-index","0"),t(document).unbind("click",o)});var a=function(){t(".sele").css("z-index","0").find("ul").hide(),e.css("z-index","1"),r.show(),t(document).bind("click",o)},o=function(i){var n=i?i.target:i.srcElement;do{if(t(n).closest(".sele").length>0)return;n=n.parentNode}while(n.parentNode);r.hide(),e.css("z-index","0"),t(document).unbind("click",o)}},t.fn.selectInit=function(e){var i=t(this),n=t(this).children("span"),r=t(this).children('input[type="hidden"]'),a=e&&e.val?e.val:"0",o=e&&e.str?e.str:"-";r.val(a),n.html(o),i.selectWidget()}}),define("src/mod/inputVal",["jquery/jquery/1.10.1/jquery"],function(e,t,i){function n(e,t){this.container=r(e),this.tip=t,this.initClass="ini"}var r=e("jquery/jquery/1.10.1/jquery");i.exports=n,n.prototype.init=function(){var e=this.container,t=this.tip,i=this.initClass;e.val()==t&&e.addClass(i),e.focus(function(){e.removeClass(i),e.val()==t&&e.val("")}),e.blur(function(){""==e.val()&&e.addClass(i).val(t)})}}),define("src/mod/formCheck",["jquery/jquery/1.10.1/jquery"],function(e,t,i){var n=e("jquery/jquery/1.10.1/jquery");i.exports.checkKeyForm=function(){var e=n('input[name="sbkey"]').val();return"请输入关键字"==e||" "==e?(alert("请输入关键字"),!1):!0},i.exports.checkFilterForm=function(){var e=!1;return n('#filterForm .sele input[type="hidden"]').each(function(t,i){0!=n(i).val()&&(e=!0)}),e?!0:(alert("请选择筛选条件"),!1)},i.exports.checkFileForm=function(){var e=n('input[name="bname"]'),t=n('input[name="bauthor"]'),i=n('input[name="btype"]'),r=n('input[name="btags[]"]:checked');return e.val()?t.val()?0==i.val()?(n("#btypeTip").html("请选择分类").addClass("error").show(),i.next().mousedown(function(){n("#btypeTip").html("").removeClass("error").hide()}),!1):r.length>5?(n("#btagsTip").html("标签不能超过5个").addClass("error").show(),r.click(function(){n("#btagsTip").html("").removeClass("error").hide()}),!1):!0:(n("#bauthorTip").html("请填写作者").addClass("error").show(),t.focus(function(){n("#bauthorTip").html("").removeClass("error").hide()}),!1):(n("#bnameTip").html("请填写书名").addClass("error").show(),e.focus(function(){n("#bnameTip").html("").removeClass("error").hide()}),!1)}});
